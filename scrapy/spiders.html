<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spiders | Scrapy-Django Docs</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.0">
    <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/scrapy-django-docs/assets/css/0.styles.823876df.css" as="style"><link rel="preload" href="/scrapy-django-docs/assets/js/app.7d83bbeb.js" as="script"><link rel="preload" href="/scrapy-django-docs/assets/js/2.242dbaec.js" as="script"><link rel="preload" href="/scrapy-django-docs/assets/js/17.d06b4764.js" as="script"><link rel="prefetch" href="/scrapy-django-docs/assets/js/10.dfff0224.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/11.ba109c6a.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/12.c6920c6b.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/13.cabc12aa.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/14.a1dc3f34.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/15.3d909d0d.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/16.fc1ecc0d.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/18.45191c49.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/3.9f28050d.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/4.dcd8f2b0.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/5.f0a7b293.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/6.5c213c75.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/7.b2cc3b10.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/8.69b9d75d.js"><link rel="prefetch" href="/scrapy-django-docs/assets/js/9.981c9ed5.js">
    <link rel="stylesheet" href="/scrapy-django-docs/assets/css/0.styles.823876df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/scrapy-django-docs/" class="home-link router-link-active"><!----> <span class="site-name">Scrapy-Django Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/scrapy-django-docs/scrapy/" class="nav-link router-link-active">
  Scrapy
</a></div><div class="nav-item"><a href="/scrapy-django-docs/django/" class="nav-link">
  Django
</a></div><div class="nav-item"><a href="/scrapy-django-docs/rest/" class="nav-link">
  REST Framework
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/scrapy-django-docs/scrapy/" class="nav-link router-link-active">
  Scrapy
</a></div><div class="nav-item"><a href="/scrapy-django-docs/django/" class="nav-link">
  Django
</a></div><div class="nav-item"><a href="/scrapy-django-docs/rest/" class="nav-link">
  REST Framework
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Scrapy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/scrapy-django-docs/scrapy/" class="sidebar-link">Intro</a></li><li><a href="/scrapy-django-docs/scrapy/spiders.html" class="active sidebar-link">Spiders</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#generando-spiders" class="sidebar-link">Generando Spiders</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#etiqueta-html" class="sidebar-link">Etiqueta HTML</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#css-xpath-selector" class="sidebar-link">CSS &amp; XPath Selector</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#response-object" class="sidebar-link">Response Object</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#login-with-formrequest" class="sidebar-link">Login with FormRequest</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#network-request" class="sidebar-link">Network &amp; request</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#running-the-spiders" class="sidebar-link">Running the spiders</a></li><li class="sidebar-sub-header"><a href="/scrapy-django-docs/scrapy/spiders.html#enlaces-utiles" class="sidebar-link">Enlaces útiles</a></li></ul></li><li><a href="/scrapy-django-docs/scrapy/items.html" class="sidebar-link">Items</a></li><li><a href="/scrapy-django-docs/scrapy/pipelines.html" class="sidebar-link">Pipelines</a></li><li><a href="/scrapy-django-docs/scrapy/scrapyd.html" class="sidebar-link">Scrapyd</a></li><li><a href="/scrapy-django-docs/scrapy/scrapy-api.html" class="sidebar-link">Scrapyd API</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spiders"><a href="#spiders" class="header-anchor">#</a> Spiders</h1> <p>Los scripts que se encargan de hacer WebScrapping Scrapy los llama Spiders
cada uno hereda de la clase <code>Spider</code> y contiene un metodo principal llamado <code>parse</code>.</p> <p><code>my-spider.py</code></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token keyword">from</span> scrapy <span class="token keyword">import</span> Spider<span class="token punctuation">,</span> CrawlSpider<span class="token punctuation">,</span> BaseSpider <span class="token comment"># hay diefreentes tipos de Spiders</span>

<span class="token keyword">class</span> <span class="token class-name">MySpider</span><span class="token punctuation">(</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">&quot;my-spider&quot;</span>
    start_urls <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token comment"># urls iniciales debe ser una lista o una tupla</span>
    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># ...</span>
</code></pre></div><h2 id="generando-spiders"><a href="#generando-spiders" class="header-anchor">#</a> Generando Spiders</h2> <p>Podemos generar nuestros spiders desde la terminal o crear los archivos de python directamente
solo hay que respetar la estructura básica necesaria para que Scrapy pueda indentificarlos</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ scrapy genspider <span class="token operator">&lt;</span>NOMBRE_SPIDER<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>DOMINIO<span class="token operator">&gt;</span> <span class="token comment"># creación simple                                         </span>
</code></pre></div><h2 id="etiqueta-html"><a href="#etiqueta-html" class="header-anchor">#</a> Etiqueta HTML</h2> <p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcR7rKR7ylzCkT7y5p19G9yhqhKDYkQ0kMRS2pDx_6_wErgVP7Hi" alt=""></p> <h2 id="css-xpath-selector"><a href="#css-xpath-selector" class="header-anchor">#</a> CSS &amp; XPath Selector</h2> <p>A continuación se muestran 2 ejemplos que extraen los mismos datos del sitio web, pero <code>toscrape-css</code>
emplea selectores CSS, mientras que <code>toscrape-xpath</code> emplea expresiones XPath.</p> <p><a href="https://www.w3schools.com/cssref/css_selectors.asp" target="_blank" rel="noopener noreferrer">CSS Selectors Syntax<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Ejemplo de scraping usando selectores CSS</span>
<span class="token keyword">import</span> scrapy

<span class="token keyword">class</span> <span class="token class-name">ToScrapeCSSSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">&quot;toscrape-css&quot;</span>
    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'http://quotes.toscrape.com/'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        &quot;&quot;&quot;</span>
        <span class="token comment"># hay que tomar encuenta que es una busqueda asi que </span>
        <span class="token comment"># devuelve siempre una lista o arreglo</span>
        <span class="token comment"># div.quote =&gt; '&lt;div class=&quot;quote&quot;&gt;...&lt;/div&gt;' </span>
        <span class="token keyword">for</span> quote <span class="token keyword">in</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&quot;div.quote&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
            <span class="token keyword">yield</span> <span class="token punctuation">{</span>
                <span class="token comment"># span.text =&gt; '&lt;span class=&quot;text&quot;&gt;...&lt;/span&gt;' y ::text le indica </span>
                <span class="token comment"># que no debe retornar la etiqueta sino el texto dentro de ella</span>
                <span class="token string">'text'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&quot;span.text::text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># extract_first() obtiene el primer elemento</span>
                <span class="token string">'author'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&quot;small.author::text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                
                <span class="token comment"># &gt; el signo menor o igual indica que debe extraer los hijos</span>
                <span class="token comment"># div.tags &gt; a.tag =&gt; '&lt;div class=&quot;tags&quot;&gt; &lt;a class=&quot;&quot;tag&gt;Poema&lt;/a&gt;... &lt;/div&gt;'</span>
                <span class="token string">'tags'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&quot;div.tags &gt; a.tag::text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># extract() obtiene todos los elementos encontrados</span>
            <span class="token punctuation">}</span>
        <span class="token comment"># devuelve la URL dentro de la etiqueta a </span>
        next_page_url <span class="token operator">=</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">&quot;li.next &gt; a::attr(href)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> next_page_url <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>response<span class="token punctuation">.</span>urljoin<span class="token punctuation">(</span>next_page_url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># procesar la siguiente URL</span>

</code></pre></div><p><a href="https://www.w3schools.com/xml/xpath_syntax.asp" target="_blank" rel="noopener noreferrer">XPath Syntax<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># Ejemplo de scraping utilizando XPath</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token keyword">import</span> scrapy


<span class="token keyword">class</span> <span class="token class-name">ToScrapeSpiderXPath</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">'toscrape-xpath'</span>
    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'http://quotes.toscrape.com/'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>

    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> quote <span class="token keyword">in</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[@class=&quot;quote&quot;]'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> <span class="token punctuation">{</span>
                <span class="token string">'text'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./span[@class=&quot;text&quot;]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">'author'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'.//small[@class=&quot;author&quot;]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">'tags'</span><span class="token punctuation">:</span> quote<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'.//div[@class=&quot;tags&quot;]/a[@class=&quot;tag&quot;]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

        next_page_url <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//li[@class=&quot;next&quot;]/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> next_page_url <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>response<span class="token punctuation">.</span>urljoin<span class="token punctuation">(</span>next_page_url<span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre></div><h2 id="response-object"><a href="#response-object" class="header-anchor">#</a> Response Object</h2> <p>Uno de los objetos más importantes del spider es <code>response</code> ya que en el se encuentra todo
la información del sitio, url, página que estamos visitando es como si tuvieramos en navegador
almacenado en un objeto.</p> <p>Hay algunas propiedades importantes que son útiles en las diferentes situaciones
que podemos toparnos cuando extraemos información de un sitio.</p> <div class="language-py extra-class"><pre class="language-py"><code>response<span class="token punctuation">.</span>headers <span class="token comment"># acceder a los headers de la respuesta</span>
response<span class="token punctuation">.</span>text <span class="token comment"># texto plano de la respuesta</span>
response<span class="token punctuation">.</span>body <span class="token comment"># html o formato de la respuesta</span>
response<span class="token punctuation">.</span>css <span class="token comment"># selector css</span>
response<span class="token punctuation">.</span>xpath <span class="token comment"># selector xpath</span>
</code></pre></div><h2 id="login-with-formrequest"><a href="#login-with-formrequest" class="header-anchor">#</a> Login with FormRequest</h2> <p>Para procesar formularios en general podemos utilizar la clase FormRequest y llamar al método
from_response para procesar un formulario dentro de la misma pagina visitada. Es útil
para inicio de sesiones pasandole los datos necesarios para rellenar el formulario.</p> <p>Para este ejemplo utilizaremos el formualrio de inicio de sesion de PayPal para ello
saber el valor del atributo <strong>name</strong> en los <code>&lt;input&gt;</code> que queremos rellenar. Asi como el <strong>id</strong> y <strong>type</strong> del botón.</p> <p><img src="/scrapy-django-docs/paypayform.png" alt=""></p> <p><img src="/scrapy-django-docs/form_elements.png" alt=""></p> <div class="language-py extra-class"><pre class="language-py"><code><span class="token comment"># -*- coding: utf-8 -*-</span>
<span class="token keyword">import</span> scrapy
<span class="token keyword">from</span> scrapy <span class="token keyword">import</span> Request
<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>http <span class="token keyword">import</span> FormRequest
<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>response <span class="token keyword">import</span> open_in_browser <span class="token comment"># for testing</span>

<span class="token keyword">class</span> <span class="token class-name">PaypalSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> <span class="token string">'paypal'</span> <span class="token comment"># spider name</span>
    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://www.paypal.com/signin/'</span><span class="token punctuation">]</span> <span class="token comment"># main url</span>

    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># En algunos casos necesitaremos extraer datos de elementos ocultos pero que son enviados en la request</span>
        <span class="token comment"># en este caso necestamos extraer un token</span>
        token <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@name=&quot;_csrf&quot;]/@value'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token comment"># los valores deben coincidir con el formualrio</span>
        data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'_csrf'</span><span class="token punctuation">:</span> token<span class="token punctuation">,</span> <span class="token string">'login_email'</span><span class="token punctuation">:</span> <span class="token string">'EMAIL'</span><span class="token punctuation">,</span> <span class="token string">'login_password'</span><span class="token punctuation">:</span> <span class="token string">'PASSWORD'</span> <span class="token punctuation">}</span> 
        <span class="token keyword">yield</span> FormRequest<span class="token punctuation">.</span>from_response<span class="token punctuation">(</span>response<span class="token punctuation">,</span> formdata<span class="token operator">=</span>data<span class="token punctuation">,</span>
                                          callback<span class="token operator">=</span>self<span class="token punctuation">.</span>after_login<span class="token punctuation">)</span>
    

    <span class="token keyword">def</span> <span class="token function">after_login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;Crawl site with user session&quot;&quot;&quot;</span>
        div <span class="token operator">=</span> response<span class="token punctuation">.</span>css<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
</code></pre></div><h2 id="network-request"><a href="#network-request" class="header-anchor">#</a> Network &amp; request</h2> <p>En este punto hay que prestar mucha atención de como la pagina en cuestión envia los datos al servidor
en algunos casos podemos encontrarnos con problemas para el bot. Alguno de los más comunes:</p> <ul><li>Uso de cookies para manejar sesiones</li> <li>Single Page Applications</li></ul> <p>En otros casos es importante fijarnos en la sección de <strong>Network</strong> del navegador para saber
si es necesario hacer scraping o podemos consumir los servios REST o HTTP.</p> <p><img src="/scrapy-django-docs/network.png" alt=""></p> <h2 id="running-the-spiders"><a href="#running-the-spiders" class="header-anchor">#</a> Running the spiders</h2> <p>Puede ejecutar un <code>spider</code> utilizando el comando <code>scrapy crawl</code>:</p> <div class="language- extra-class"><pre><code>`$ scrapy crawl toscrape-css`
</code></pre></div><p>Si nuestro spider esta configurado para devolver arrays estos pueden guardarse en un archivo, puede usar la opción <code>-o</code>:</p> <div class="language- extra-class"><pre><code>`$ scrapy crawl toscrape-css -o quotes.json`
</code></pre></div><p>Los formatos disponibles son:</p> <ul><li>XML</li> <li>CSV</li> <li>JSON</li></ul> <p>Si queremos correr un spider directamente desde el archivo podemos usar <code>scrapy runspider</code>
apuntando a su direccion en el directorio:</p> <div class="language- extra-class"><pre><code>`$  scrapy runspider /to/path/SPIDER_NAME.py`
</code></pre></div><h2 id="enlaces-utiles"><a href="#enlaces-utiles" class="header-anchor">#</a> Enlaces útiles</h2> <ul><li><a href="https://developer.mozilla.org/es/docs/Web/HTTP/Cookies" target="_blank" rel="noopener noreferrer">HTTP Cookies<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://medium.com/dataflow-kit/css-selectors-vs-xpath-f368b431c9dc" target="_blank" rel="noopener noreferrer">CSS Selectors vs XPath<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://programacionymas.com/blog/jwt-vs-cookies-y-sesiones" target="_blank" rel="noopener noreferrer">Tokens vs Sesiones<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/scrapy-django-docs/scrapy/" class="prev router-link-active">
        Intro
      </a></span> <span class="next"><a href="/scrapy-django-docs/scrapy/items.html">
        Items
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/scrapy-django-docs/assets/js/app.7d83bbeb.js" defer></script><script src="/scrapy-django-docs/assets/js/2.242dbaec.js" defer></script><script src="/scrapy-django-docs/assets/js/17.d06b4764.js" defer></script>
  </body>
</html>
